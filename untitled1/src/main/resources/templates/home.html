<!DOCTYPE html>
<html lang="zh-CN" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é¦–é¡µ - ä¼ä¸šç®¡ç†ç³»ç»Ÿ</title>
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ä¼ä¸šç®¡ç†ç³»ç»Ÿ</h1>
            <p>ä¼ä¸šç®¡ç†ç³»ç»Ÿ</p>
        </div>
        
        <div class="nav">
            <a href="/dashboard" class="btn">ğŸ“Š ä»ªè¡¨æ¿</a>
            <a href="/employees" class="btn">ğŸ‘¥ å‘˜å·¥ç®¡ç†</a>
            <a href="/departments" class="btn">ğŸ¢ éƒ¨é—¨ç®¡ç†</a>
            <a href="/notifications" class="btn">ğŸ”” é€šçŸ¥ç®¡ç†</a>
            <a href="/users" class="btn">ğŸ‘¤ ç”¨æˆ·ç®¡ç†</a>
            <form th:action="@{/logout}" method="post" style="display: inline;">
                <button type="submit" class="btn btn-danger">é€€å‡ºç™»å½•</button>
            </form>
        </div>

        <div class="content">
            <div class="dashboard-header">
                <h2>ğŸ‰ æ¬¢è¿ä½¿ç”¨ä¼ä¸šç®¡ç†ç³»ç»Ÿ</h2>
                <p>æ‚¨å·²æˆåŠŸç™»å½•ç³»ç»Ÿï¼Œä»¥ä¸‹æ˜¯ç³»ç»Ÿæ¦‚è§ˆ</p>
            </div>

            <!-- ä»ªè¡¨æ¿åŒºåŸŸ -->
            <div id="dashboard-container">
                <div class="loading">
                    <div class="spinner"></div>
                    <p>æ­£åœ¨åŠ è½½ä»ªè¡¨æ¿æ•°æ®...</p>
                </div>
            </div>
        </div>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script>
        $(document).ready(function() {
            // é€šè¿‡AJAXåŠ è½½ä»ªè¡¨æ¿å†…å®¹ï¼ŒåŒ…å«ä¸Šä¸‹æ–‡è·¯å¾„
            $("#dashboard-container").load("/untitled1/dashboard/content", function(response, status, xhr) {
                if (status == "error") {
                    var msg = "åŠ è½½å¤±è´¥: ";
                    $(this).html("<div class='alert alert-danger'><h3>âŒ åŠ è½½å¤±è´¥</h3><p>" + msg + xhr.status + " " + xhr.statusText + "</p></div>");
                }
            });
        });
    </script>
</body>
</html>
